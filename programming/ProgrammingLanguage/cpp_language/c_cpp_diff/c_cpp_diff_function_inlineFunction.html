<!DOCTYPE html>
<html>
	<head>
		<title>inline functions in C++</title>
		<meta http-equiv="content-type" content="text/html; charset=UTF-8">
		<link rel="stylesheet" type="text/css" href="../../../../style.css" />
	</head>
	<body>

		<script type="text/javascript" src="../../../../style.js"></script>

		<div id="header">
			<h1>每天进步一点点</h1>
		</div>

		<div id="navigation">
			<ul class="navigation">
				<li><a class="navigation" href="../../../../index.html">Home Page</a></li>
				<li><a class="navigation" href="../../../../life/index.html">Life</a></li>
				<li><a class="navigation" href="../../../index.html">Programmig</a></li>
				<li><a class="navigation" href="../../../../projects/index.html">Projects</a></li>
				<li><a class="navigation" href="../../../../aboutme/index.html">About me</a></li>
			</ul>
		</div>

		<div id="Article">
			<h1>内联函数(inline functions)</h1>
			<p>作者：jicanmeng</p>
			<p>时间：2014年11月27日</p>
			<hr />

			<p>
				函数调用时，内部过程需要进行调用初始化、执行函数代码、调用后处理三步。当函数体较小且执行的功能比较简单时，这种函数调用方式的系统开销相对较大。为了解决这一问题，C++引入了内联函数(inline functions)的概念。程序调用内联函数时，将函数体的代码直接插入到调用处。这样可以减少程序的执行时间，但同时增加了代码的实际长度。内联函数在定义时，需要在函数的返回值类型前面加上<b>inline</b>关键字。
			</p>

			<p>
				根据维基百科，C++，C99和GNU C都支持内联函数，然而1989 ANSI C，这个最被广泛使用的C标准却是不支持内联函数的。
			</p>

			<p>示例程序如下:</p>

<pre class="sourceCode">#include &lt;iostream&gt;

inline int min(int nX, int nY)
{
    return nX > nY ? nY : nX;
}

int main()
{
    using namespace std;
    cout &lt;&lt; min(5, 6) &lt;&lt; endl;
    cout &lt;&lt; min(3, 2) &lt;&lt; endl;
    return 0;
}</pre>

			<p>经过编译器处理后，代码转换为下面的样子:</p>

<pre class="sourceCode">#include &lt;iostream&gt;

inline int min(int nX, int nY)
{
    return nX > nY ? nY : nX;
}

int main()
{
    using namespace std;
    cout &lt;&lt; (5 &gt; 6 ? 6 : 5) &lt;&lt; endl;
    cout &lt;&lt; (3 &gt; 2 ? 2 : 3) &lt;&lt; endl;
    return 0;
}</pre>

			<p>
				使用内联函数有一些限制：
				<ol>
					<li>
						内联函数中不能有数组定义，也不能有任何静态类型的定义。
					</li>

					<li>
						内联函数中不能含有循环、switch和复杂嵌套的if语句。
					</li>

					<li>
						内联函数不能是递归函数。
					</li>
				</ol>
			</p>

			<p>
				内联函数一般是比较小的、经常被调用的、大多数可在一行写完的函数，并常用来代替带参数的宏定义。
			</p>

			<h2>参考资料</h2>
				<ol>
					<li>
						&lt;&lt;C++实用教程&gt;&gt; 电子工业出版社 郑阿奇 主编 丁有和 编著 P98
					</li>
					<li>
						The C++ Tutorial:<br />
						<a href="http://www.learncpp.com/cpp-tutorial/75-inline-functions/" target="_blank">http://www.learncpp.com/cpp-tutorial/75-inline-functions/</a><br />
					</li>
				</ol>

            <div class="navfooter">
              <ul>
                <li class="prev">
                  <a accesskey="p" href="c_cpp_diff_function_overload.html" title="函数重载">Prev</a>
                  <p>
                    函数重载
                  </p>
                </li>
                <li class="next">
                  <a accesskey="n" href="c_cpp_diff_reference.html" title="新的数据类型：引用(reference)">Next</a>
                  <p>
                    新的数据类型：引用(reference)
                  </p>
                </li>
                <li class="up">
                  <a accesskey="u" href="../index.html" title="Preface">Preface</a>
                </li>
                <li class="home">
                  <a accesskey="h" href="../../../../index.html" title="Home Page">Home Page</a>
                </li>
              </ul>
            </div>
		</div>

		<div id="footer">
			<p>jicanmeng@126.com 2013</p>
			<p>本站文章可随意转载，但请注明转载的本站文章地址，谢谢！</p>
		</div>
	</body>
</html>
